(this["webpackJsonpreact-air-demo"]=this["webpackJsonpreact-air-demo"]||[]).push([[0],[,,,,,,,,,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},,function(e,n,t){},,function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(1),i=t.n(r),a=t(7),c=t.n(a),o=(t(13),t(3)),s=(t(14),t(15),t(0));function l(){return Object(s.jsxs)("div",{className:"Footer",children:[Object(s.jsxs)("span",{className:"made-with",children:["Made with React and ",Object(s.jsx)("span",{className:"heart",children:"\u2764"})," in Melbourne"]}),Object(s.jsx)("div",{className:"made-with",children:"\xa92016 Broccoli & Co. All rights reserved."})]})}var u=function(e){var n=e.children,t=e.href;return Object(s.jsx)("a",{href:t,onClick:function(e){e.preventDefault()},style:{marginRight:10,fontSize:"1rem",cursor:"pointer"},children:n})},d=(t(17),[{link:"/",text:"Home"},{link:"/faq",text:"FAQ"},{link:"/contact",text:"Contact"}]);function j(){var e=Object(r.useState)(0),n=Object(o.a)(e,2),t=n[0],i=n[1];return Object(r.useEffect)((function(){function e(){i(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}})),Object(s.jsxs)("div",{className:"Navbar",children:[Object(s.jsx)("div",{className:"LogoSection",children:Object(s.jsx)("h1",{children:"Broccoli & Co."})}),t>700&&Object(s.jsx)("div",{className:"LinksWrapper",children:d.map((function(e){return Object(s.jsx)("div",{className:"LinkWrapper",children:Object(s.jsx)(u,{href:e.link,children:e.text})},e.text)}))})]})}var f=t(4),h=t(2),b=function(e){var n={name:"",email:"",confirmEmail:"",errors:{email:"",name:"",confirmEmail:""}},t=Object(r.useState)(n),i=Object(o.a)(t,2),a=i[0],c=i[1];return{handleChange:function(e){e.persist();var t=Object(h.a)(Object(h.a)({},a),{},Object(f.a)({errors:n.errors},e.target.name,e.target.value));c((function(e){return t})),t.email!==t.confirmEmail?c((function(e){return Object(h.a)(Object(h.a)({},t),{},{errors:Object(h.a)(Object(h.a)({},e.errors),{},Object(f.a)({},"confirmEmail","Please confirm your email once again."))})})):e.target.value||c((function(n){return Object(h.a)(Object(h.a)({},t),{},{errors:Object(h.a)(Object(h.a)({},n.errors),{},Object(f.a)({},e.target.name,"".concat(e.target.name," is missing")))})}))},handleSubmit:function(n){n&&n.preventDefault(),e()},values:a}},m=t(6),O=t.n(m),v=t(8);function p(e,n){return n?e+"?"+(t=n,Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")):e;var t}var g=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{body:{},query:{},method:"GET"},t=Object(r.useState)({response:null,error:!1,loading:!1}),i=Object(o.a)(t,2),a=i[0],c=i[1];return Object(r.useEffect)((function(){if(n.body.name||n.body.email){c(Object(h.a)(Object(h.a)({},a),{},{error:!1,loading:!0}));var t={method:n.method,headers:{"Content-Type":"application/json"}};"GET"!==n.method&&(t.body=JSON.stringify(n.body)),fetch(p(e,n.query),t).then(function(){var e=Object(v.a)(O.a.mark((function e(n){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:t=e.sent,400===n.status?c({response:{status:t.errorMessage},error:!0,loading:!1}):c({response:t,error:!n.ok,loading:!1});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){c({response:{status:e||"network_failure"},error:!0,loading:!1})}))}}),[JSON.stringify(n,null)]),a};t(19);function w(e){var n=b((function(){m({name:t.name,email:t.email})})),t=n.values,i=n.handleChange,a=n.handleSubmit,c=Object(r.useState)(!1),l=Object(o.a)(c,2),u=l[0],d=l[1],j=Object(r.useState)({name:"",email:""}),f=Object(o.a)(j,2),h=f[0],m=f[1],O=g("/",{method:"POST",body:{name:h.name,email:h.email}}),v=O.response,p=O.error,w=O.loading;return Object(r.useEffect)((function(){v&&!p&&d(!0)}),[v,p]),Object(s.jsxs)("div",{className:"form",style:{width:"100vw",height:"100vh",position:"absolute",justifyContent:"center",display:"flex",flexDirection:"column",background:"rgba(0,0,0,0.5)"},children:[!u&&Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:"Request an invite"}),Object(s.jsxs)("form",{style:{display:"grid",alignItems:"center",justifyItems:"center",gridRowGap:"1rem"},onSubmit:a,children:[Object(s.jsx)("input",{className:"input",type:"text",name:"name",onChange:i,value:t.name,required:!0,placeholder:"Full name"}),Object(s.jsx)("input",{className:"input",type:"email",name:"email",onChange:i,value:t.email,required:!0,placeholder:"Email"}),Object(s.jsx)("input",{type:"email",placeholder:"Confirm Email",name:"confirmEmail",onChange:i,value:t.confirmEmail}),Object(s.jsx)("button",{type:"submit",className:"button is-block is-info is-fullwidth",disabled:w||Object.values(t.errors).filter((function(e){return e})).length>0,children:w?"Sending, please wait...":"Send"})]}),p||Object.values(t.errors).filter((function(e){return e})).length>0?Object(s.jsx)("div",{className:"register__input-error",children:((v||{}).status||{}).message||Object.values(t.errors).filter((function(e){return e}))}):Object(s.jsx)("div",{children:"\xa0"})]}),u&&Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:"All done!"}),Object(s.jsx)("p",{children:"You will be one of the first to experience Broccoli & Co. when we launch."}),Object(s.jsx)("button",{onClick:e.close,className:"button is-block is-info is-fullwidth",children:"Ok"})]})]})}var x=function(){var e=Object(r.useState)(!1),n=Object(o.a)(e,2),t=n[0],i=n[1],a=Object(r.useCallback)((function(){i(!1)}),[]);return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(j,{}),Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"A better way to enjoy every day."}),Object(s.jsx)("p",{children:"Be the first to know when we launch."}),Object(s.jsx)("button",{className:"button",onClick:function(){return i(!t)},children:"Request an invite"}),t&&Object(s.jsx)(w,{close:a})]}),Object(s.jsx)(l,{})]})},k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat(".","/service-worker.js");k?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):y(n,e)}))}}(),N()}],[[20,1,2]]]);
//# sourceMappingURL=main.fbfe5440.chunk.js.map